!function t(n,r,e){function i(u,a){if(!r[u]){if(!n[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+u+"'")}var s=r[u]={exports:{}};n[u][0].call(s.exports,function(t){var r=n[u][1][t];return i(r?r:t)},s,s.exports,t,n,r,e)}return r[u].exports}for(var o="function"==typeof require&&require,u=0;u<e.length;u++)i(e[u]);return i}({1:[function(t,n){var r,e,i,o,u,a,c,s,f;f=t("./placeholder"),s=f.parameter,e=f.Parameter,r=f.NamedParameter,a=t("./util").isFunc,i=function(t,n,r){var e;return e=r(),function(r,i){var o;return o=e(r),null!=o?t[o]=i:n.push(i)}},o=function(){var t;return t=0,function(n){switch(!1){case!(n instanceof r&&null===n.name):return null;case!a(n):return t++;case n!==s:return t++;case!(n instanceof e):return t++;default:return null}}},u=function(){return function(t){switch(!1){case!(t instanceof r&&null===t.name):return null;case!(t instanceof e):return t.index;default:return null}}},c=function(){return function(t){switch(!1){case!(t instanceof e):return t.getKey();default:return null}}},n.exports={assignmentFactory:i,incrementalCounter:o,indexedCounter:u,nominalCounter:c}},{"./placeholder":6,"./util":7}],2:[function(t,n){var r,e,i,o,u,a,c,s,f,l=[].slice,h={}.hasOwnProperty,p=function(t,n){function r(){this.constructor=t}for(var e in n)h.call(n,e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};f=t("./util"),u=f.isArray,a=f.isFunc,c=f.isPlainObject,i=f.annotate,e=t("./matcher").Matcher,r=function(){function t(t){var n;this.ctor=t,this.annotation=null,this.transform=null,n=this.ctor.unapply,u(n)?this.annotation=n:a(n)?this.transform=n:c(n)&&(this.annotation=n.annotation,this.transform=n.transform),null==this.annotation&&(this.annotation=i(this.ctor))}return t.prototype.link=function(t){return new e(this.annotation,this.transform,t,this.ctor)},t}(),s=function(t){var n,r,i;return n=t.annotation,i=t.transform,r=t.constructor,function(){var t;return t=1<=arguments.length?l.call(arguments,0):[],new e(n,i,t,r)}},o=function(t){var n,e;return c(t)?s(t):(e=new r(t),n=function(){var n;return n=1<=arguments.length?l.call(arguments,0):[],this instanceof t?t.apply(this,n):e.link(n)},p(n,t),n)},n.exports={Extractor:r,extract:o}},{"./matcher":5,"./util":7}],3:[function(t,n){(function(r){var e,i,o,u,a,c,s,f,l,h,p,d,m,g,y,w,v,_,j,x,P=[].slice;d=t("./util").isFunc,j=t("./injector"),i=j.IncrementalInjector,o=j.IndexedInjector,c=j.NominalInjector,f=j.PatternMatcher,x=t("./placeholder"),y=x.parameter,g=x.paramSeq,v=x.wildcard,_=x.wildcardSeq,p=t("./extractor").extract,w=function(t){var n;if(n=t.pop(),!d(n))throw new Error("Handler must be an function");return[t,n]},m=function(t){return function(){var n,r,e,i;return n=1<=arguments.length?P.call(arguments,0):[],i=w(n),e=i[0],r=i[1],new f(e,r,t)}},u=m(i),e=m(o),s=m(c),l=function(t){return null==t&&(t="Match"),Object.prototype[t]=function(){var t;return t=1<=arguments.length?P.call(arguments,0):[],a.apply(null,t)(this)}},a=function(){var t;return t=1<=arguments.length?P.call(arguments,0):[],function(n){var r,e,i;for(e=0,i=t.length;i>e;e++){if(r=t[e],!(r instanceof f))throw new TypeError("need Is/As/On clause");if(r.hasMatch(n))return r.inject(n)}return null}},h={Match:a,Is:u,As:e,On:s,parameter:y,paramSeq:g,wildcard:v,wildcardSeq:_,extract:p},"function"==typeof define?define(function(){return h}):"undefined"!=typeof n&&n.exports?n.exports=h:r.patternMatch=h}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./extractor":2,"./injector":4,"./placeholder":6,"./util":7}],4:[function(t,n){var r,e,i,o,u,a,c,s,f,l,h,p,d,m,g,y,w,v,_,j=function(t,n){return function(){return t.apply(n,arguments)}},x={}.hasOwnProperty,P=function(t,n){function r(){this.constructor=t}for(var e in n)x.call(n,e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};w=t("./util"),p=w.isArray,m=w.isRegExp,d=w.isFunc,y=w.objToArray,v=t("./counter"),s=v.assignmentFactory,l=v.incrementalCounter,h=v.indexedCounter,g=v.nominalCounter,_=t("./placeholder"),a=_.Parameter,r=_.Guardian,f=t("./matcher").deepMatch,o=function(){function t(t){this.pattern=t,this.assign=j(this.assign,this),this.counterFunc=null,this.cache=null,this.unnamed=[],this.assigner=null,this.defined=!1}return t.prototype.isDefinedAt=function(t){return this.clear(),this.assigner=s(this.cache,this.unnamed,this.counterFunc),this.defined=f(this.pattern,t,this.assign),this.defined||this.clear(),this.defined},t.prototype.inject=function(t,n){if(!this.defined)throw new Error("cannot call matched function when unmatched");return n.apply({m:t,unnamed:this.unnamed},y(this.cache))},t.prototype.assign=function(t,n){return d(t)||m(t)?void 0:this.assigner(t,n)},t.prototype.clear=function(){return this.cache={},this.unnamed=[]},t}(),e=function(t){function n(){this.assign=j(this.assign,this),n.__super__.constructor.apply(this,arguments),this.counterFunc=l}return P(n,t),n.prototype.assign=function(t,n){var r,e,i,o;if(m(t)){for(o=[],e=0,i=n.length;i>e;e++)r=n[e],o.push(this.assigner(RegExp,r));return o}return this.assigner(t,n)},n}(o),i=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.counterFunc=h}return P(n,t),n}(o),u=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.counterFunc=g}return P(n,t),n.prototype.inject=function(){var t;return t=this.cache,this.cache=p(t)?t:[t],n.__super__.inject.apply(this,arguments)},n}(o),c=function(){function t(t,n,e){var i,o,u,a;if(this.injector=null,this.guard=null,this.action=n,this.injectors=[],2===t.length&&(i=t[1])instanceof r)this.injectors.push(new e(t[0])),this.guard=i.guard;else for(u=0,a=t.length;a>u;u++)o=t[u],this.injectors.push(new e(o))}return t.prototype.hasMatch=function(t){var n,r,e,i,o;for(r=!1,o=this.injectors,e=0,i=o.length;i>e;e++)if(n=o[e],n.isDefinedAt(t)){r=!0,this.injector=n;break}return r&&null!=this.guard&&(r=n.inject(t,this.guard),r||n.clear()),r||(this.injector=null),a.reset(),r},t.prototype.inject=function(t){return this.injector.inject(t,this.action)},t}(),n.exports={IncrementalInjector:e,IndexedInjector:i,NominalInjector:u,PatternMatcher:c}},{"./counter":1,"./matcher":5,"./placeholder":6,"./util":7}],5:[function(t,n){var r,e,i,o,u,a,c,s,f,l,h,p,d,m,g,y,w,v,_,j,x,P,b,q,O;q=t("./util"),l=q.isFunc,f=q.isArray,h=q.isPlainObject,p=q.isPrimitive,s=q.hasOwn,a=q.annotate,O=t("./placeholder"),e=O.Parameter,i=O.ParameterSeq,o=O.Quote,u=O.Wildcard,j=O.paramSeq,x=O.parameter,P=O.wildcard,b=O.wildcardSeq,r=function(){function t(t,n,r,e){this.annotation=t||e&&a(e)||[],this.ctor=e||Object,this.transform=n,this.argList=r}return t.prototype.unapply=function(t,n){var r,e,i,o,u,a,s;if(null!=this.transform){if(t=this.transform(t),null==t)return!1}else if(!(t instanceof this.ctor))return!1;for(e=this.argList,s=this.annotation,i=u=0,a=s.length;a>u;i=++u)if(r=s[i],o=c(e[i],t[r],n),!o)return!1;return!0},t}(),d=function(t){return t===j||t===b||t instanceof i},c=function(t,n,i){switch(!1){case t!==P:return!0;case!(t instanceof u):return c(t.pattern,n,function(){});case!(t instanceof o):return n===t.pattern;case!(t instanceof r):return t.unapply(n,i);case!(t instanceof RegExp):return _(t,n,i);case!(t instanceof e):case t!==x:return w(t,n,i);case!p(t):return v(t,n);case!h(t):return y(t,n,i);case!f(t):return m(t,n,i);case!l(t):return g(t,n,i);default:return!1}},v=function(t,n){return"number"==typeof t&&isNaN(n)&&isNaN(t)?!0:n===t?!0:!1},_=function(t,n,r){var e;return"string"!=typeof n?!1:(e=t.exec(n),e?(r(t,e),!0):!1)},w=function(t,n,r){return r(t,n),c(t.pattern,n,r)},g=function(t,n,r){var e;return e=function(){switch(t){case Number:return"number"==typeof n;case String:return"string"==typeof n;case Boolean:return"boolean"==typeof n;default:return n instanceof t}}(),e&&r(t,n),e},m=function(t,n,r){var e,i,o,u,a,s,f;for(o=a=0,f=t.length;f>a&&(u=t[o],!d(u));o=++a)if(!c(u,n[o],r))return!1;for(e=n.length,i=s=t.length-1;s>=0&&(u=t[i],!(d(u)||o>=i||o>e));i=s+=-1)if(!c(u,n[--e],r))return!1;if(d(u)){if(o>e)return!1;if(o!==i)throw new Error("multiple parameter sequence is not allowed");return u!==b&&r(u,Array.prototype.slice.call(n,o,e)),!0}return e===o},y=function(t,n,r){var e,i,o;for(e in t)if(o=t[e],s(t,e)){if(i=n[e],null==i&&!s(n,e))return!1;if(!c(o,n[e],r))return!1}return!0},n.exports={Matcher:r,deepMatch:c}},{"./placeholder":6,"./util":7}],6:[function(t,n){var r,e,i,o,u,a,c,s,f,l,h,p,d,m,g,y,w,v,_={}.hasOwnProperty,j=function(t,n){function r(){this.constructor=t}for(var e in n)_.call(n,e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},x=[].slice;a=function(){function t(n){this.pattern=n,this.index=t._index++}return t.prototype.getKey=function(){return null},t.reset=function(){return t._index=0},t._index=0,t}(),u=function(t){function n(t,r){if(this.name=t,this.name===g||null==this.name)this.name=null;else if("string"!=typeof this.name)throw new TypeError("Named Parameter need string");n.__super__.constructor.call(this,r)}return j(n,t),n.prototype.getKey=function(){return this.name},n}(a),c=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return j(n,t),n}(u),s=function(){function t(t){this.pattern=t}return t}(),f=function(){function t(t){this.pattern=t}return t}(),w=g=function(t){return new f(t)},e=h=function(t){return new c(t,w)},e.getKey=function(){return null},v=y=new f(w),d=m=function(t){return new s(t)},r=p=function(){var t,n;switch(t=1<=arguments.length?x.call(arguments,0):[],t.length){case 0:return new a(w);case 1:return n=t[0],"string"==typeof n?new u(n,w):new a(n);case 2:return function(t,n,r){r.prototype=t.prototype;var e=new r,i=t.apply(e,n);return Object(i)===i?i:e}(u,t,function(){});default:throw new RangeError("wrong number of arguments")}},p.pattern=g,i=function(){function t(t){this.guard=t}return t}(),l=o=function(t){return new i(t)},n.exports={Guardian:i,NamedParameter:u,Parameter:a,ParameterSeq:c,Quote:s,Wildcard:f,guard:l,paramSeq:h,parameter:p,quote:m,wildcard:g,wildcardSeq:y}},{}],7:[function(t,n){var r,e,i,o,u,a,c,s,f,l,h,p;a=function(t,n){return{}.hasOwnProperty.call(t,n)},c=function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=function(t){return"function"==typeof t},l=function(t){switch(typeof t){case"object":case"function":return null===t;default:return!0}},h=function(t){return t instanceof RegExp},f=function(t){var n,r;if(!t||"object"!=typeof t||t.nodeType||t.window===t)return!1;try{if(t.constructor&&!a(t,"constructor")&&!a(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return n=e,!1}for(r in t);return void 0===r||a(t,r)},p=function(t){var n,r,e,i,o,u,a;if(c(t))return t;for(e=function(){var n;n=[];for(r in t)i=t[r],n.push([r,i]);return n}(),e=e.sort(function(t,n){switch(!1){case!(t[0]>n[0]):return 1;case!(t[0]<n[0]):return-1;default:return 0}}),a=[],o=0,u=e.length;u>o;o++)n=e[o],a.push(n[1]);return a},i=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,r=/\/\*[\s\S]*?\*\/|\/\/.*$/gm,o=/,/,e=/^\s*(\S+)\s*$/gm,u=function(t){var n,e,u,a,c,f,l;if(!s(t))return[];for(n=t.toString().replace(r,""),u=n.match(i)[1],f=u.split(o),l=[],a=0,c=f.length;c>a;a++)e=f[a],l.push(e.trim());return l},n.exports={annotate:u,hasOwn:a,isArray:c,isFunc:s,isPlainObject:f,isPrimitive:l,isRegExp:h,objToArray:p}},{}]},{},[3]);